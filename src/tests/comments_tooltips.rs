// File: tests/comments_tooltips.rs

use super::*;

#[test]
fn comments() {
	helper(r, "/r [1]20 \\", "[1]20 = 20");
	helper(r, "/r 20[1] \\", "20[1] = 20");
	helper(r, "/r [1]20[2] \\", "[1]20[2] = 20");

	helper(r, "/r [1]1d1 \\", "[1](1) = 1");
	helper(r, "/r 1d1[1] \\", "(1)[1] = 1");
	helper(r, "/r [1]1d1[2] \\", "[1](1)[2] = 1");
}

#[test]
fn tooltips() {
	helper(r, "/r [?1]20 \\", "[20 | tip: 1] = 20");
	helper(r, "/r 20[?1] \\", "[20 | tip: 1] = 20");

	helper(r, "/r [?1]1d1 \\", "[(1) | tip: 1] = 1");
	helper(r, "/r 1d1[?1] \\", "[(1) | tip: 1] = 1");
}

#[test]
fn comments_and_tooltips() {
	helper(r, "/r [1][?2]20 \\", "[1][20 | tip: 2] = 20");
	helper(r, "/r [1]20[?2] \\", "[1][20 | tip: 2] = 20");
	helper(r, "/r 20[?1][2] \\", "[20 | tip: 1][2] = 20");

	helper(r, "/r [1][?2]20[3] \\", "[1][20 | tip: 2][3] = 20");
	helper(r, "/r [1]20[?2][3] \\", "[1][20 | tip: 2][3] = 20");

	helper(r, "/r [1][?2]1d1 \\", "[1][(1) | tip: 2] = 1");
	helper(r, "/r [1]1d1[?2] \\", "[1][(1) | tip: 2] = 1");
	helper(r, "/r 1d1[?1][2] \\", "[(1) | tip: 1][2] = 1");

	helper(r, "/r [1][?2]1d1[3] \\", "[1][(1) | tip: 2][3] = 1");
	helper(r, "/r [1]1d1[?2][3] \\", "[1][(1) | tip: 2][3] = 1");

	helper(r, "/r [1][?2]3d1 \\", "[1][(1+1+1) | tip: 2] = 3");
	helper(r, "/r [1]4d1[?2] \\", "[1][(1+1+1+1) | tip: 2] = 4");
	helper(r, "/r 5d1[?1][2] \\", "[(1+1+1+1+1) | tip: 1][2] = 5");
}
